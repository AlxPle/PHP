services: # Main section defining all services (containers) for the project
  php: # PHP service (container) for running your PHP scripts
    image: php:8.1-cli # Uses official PHP 8.1 CLI image from Docker Hub
    volumes: # Mounts your current directory to /var/www/html inside the container
      - ./:/var/www/html:z # :z sets SELinux label to allow container access (needed on Fedora)
    ports: # Maps port 8000 on your host to port 8000 in the container
      - "8000:8000" # Access PHP server at http://localhost:8000
    working_dir: /var/www/html # Sets the working directory inside the container
    command: php -S 0.0.0.0:8000 # Starts PHP's built-in web server, listening on all interfaces

  mysql: # MySQL database service (container)
    image: mysql:8.0 # Uses official MySQL 8.0 image from Docker Hub
    environment: # Sets environment variables for MySQL
      MYSQL_ROOT_PASSWORD: root # Root password for MySQL (use for login)
      MYSQL_DATABASE: testdb # Creates a database named 'testdb' automatically
    ports: # Maps port 3306 on your host to port 3306 in the container
      - "3306:3306" # Access MySQL at localhost:3306 (e.g., from PHP or phpMyAdmin)

  phpmyadmin: # phpMyAdmin service (container) for web-based MySQL management
    image: phpmyadmin/phpmyadmin # Uses official phpMyAdmin image from Docker Hub
    environment: # Sets environment variables for phpMyAdmin
      PMA_HOST: mysql # Tells phpMyAdmin to connect to the 'mysql' service
      PMA_PORT: 3306 # MySQL port
      MYSQL_ROOT_PASSWORD: root # Root password for MySQL (same as above)
    ports: # Maps port 8080 on your host to port 80 in the container
      - "8080:80" # Access phpMyAdmin at http://localhost:8080
